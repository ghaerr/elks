<HTML>
<Head>

<Title>ELKS FAQ: Francais</Title>

<Meta Name="description" Description="A port of Linux for 16-bit Intel architectures">
<Meta Name="keywords" Keywords="Linux,linux-86,linux-8086,16-bit,UNIX,ELKS">

</Head>
<Body BGColor=White Text=Black Link=Blue VLink=Magenta ALink=Red>

<Table Border=0 Width=100%>

<TR>
<TD Width=20% Align=Left VAlign=Top><Img Src="../Images/ELKStag.gif"
Alt="ELKS Logo" Height=77 Width=224></TD>
<TD Width=70% Align=Center VAlign=Center><Font Size=+2>ELKS FAQ -
Francais</Font></TD>
<TD Width=10% Align=Right VAlign=Top><Img Src="../Images/ELKSlogo.gif"
Alt="Baby Linux Logo" Height=76 Width=64></TD>
</TR>

</Table>

<P Align=Center>|
<A HRef="../CHANGELOG.txt">Website History</A> |
<A HRef="../download.html">Download</A> |
FAQ |
<A HRef="../history/">History</A> |
<A HRef="../lists/">Mailing Lists</A> |
<A HRef="../news/">News</A> |
<A HRef="../releases.html">Releases</A> |
<A HRef="../">Home</A> |
</P>

<HR Width=90%>

<P Align=Justify>Le document présent est destiné à répondre aux questions
les plus fréquentes concernant l'ELKS (Embeddable Linux Kernel Subset),
aussi appelé Linux-8086. Ce nouveau noyau est en effet destiné à tourner
sur les plus petits PC fonctionnels existants, les XT (principalement 8086
et 8088).</P>

<P Align=Justify>Cette FAQ (Foire Aux Questions), maintenue par <A
HRef="MailTo:asl@launay.org">Arnaud Launay</A>, est basée sur la FAQ d'<A
href="mailto:ajr@ecs.soton.ac.uk">Al Riddoch</A>, elle-même dérivée de la
FAQ originale de Brian Candler. La dernière version de la Faq originale
(en anglais) est accessible sur <A
HRef="http://www.ecs.soton.ac.uk/elks/">
http://www.ecs.soton.ac.uk/elks</A>.</P>

<P Align=Justify>Des informations complémentaires peuvent être trouvées
sur l'<A HRef="../">ELKS Home Page</A>.</P>

<P Align=Justify>Il existe par ailleurs une liste de diffusion en Anglais.
Pour s'y abonner, envoyez un message (sans sujet et sans signature) à <A
HRef="MailTo:majordomo@vger.kernel.org">majordomo@vger.kernel.org</A>,
contenant dans le corps les mots <B>subscribe linux-8086</B>. Les archives
de cette liste peuvent être trouvées sur <A
HRef="http://lemur.ecs.soton.ac.uk/~threader/LEMUR_lists.cgi">
http://lemur.ecs.soton.ac.uk/~threader/LEMUR_lists.cgi</A>.</P>

<P Align=Justify>Pour se désabonner de la liste et ne plus recevoir les
nombreux messages des usagers, envoyez un message (sans sujet et sans
signature) à <A
HRef="MailTo:majordomo@vger.kernel.org">majordomo@vger.kernel.org</A>,
contenant dans le corps les mots <B>unsubscribe linux-8086</B>.</P>

<P Align=Justify>ELKS n'est pas Linux, et la liste de diffusion, malgré
son nom, n'est pas le bon endroit pour poser des questions sur Linux.
Voyez plutôt des groupes de discussion comme <A
HRef="news:comp.os.linux.answers">comp.os.linux.answers</A> ou <A
HRef="news:fr.comp.os.linux">fr.comp.os.linux</A>.</P>

<HR Width=90%>

<H2>Section 1 - Général</H2>

<UL>

<LI><A HRef="#1.1">Q1.1. Qu'est ce que l'ELKS ?</A>

<LI><A HRef="#1.2">Q1.2. Comment l'ELKS peut-il être comparé au Linux
Standard ?</A>

<LI><A HRef="#1.3">Q1.3. Existe-t-il une version "prête à l'emploi"
(ready-to-run) de l'ELKS ?</A>

<LI><A HRef="#1.4">Q1.4. ELKS peut-il tourner sur un 8088 ?</A>

</UL>

<H2>Section 2 - Compilation et Installation</H2>

<UL>

<LI><A HRef="#2.1">Q2.1. Où puis-je trouver les sources ?</A>

<LI><A HRef="#2.2">Q2.2. Comment créer un noyau ELKS ?</A>

<LI><A HRef="#2.3">Q2.3. J'obtiens une erreur m'affirmant que
/usr/include/linux/vm86.h n'existe pas ?</A>

<LI><A HRef="#2.4">Q2.4. Comment créer un 'init' pour ELKS ?</a>

<LI><A HRef="#2.5">Q2.5. Comment créer un 'root filesystem disk' ?</a>

<LI><A HRef="#2.6">Q2.6. Que faire si mon XT a un lecteur 360k ?</a>

<LI><A HRef="#2.7">Q2.7. Le programme rawrite</A>

</UL>

<H2>Section 3 - Utiliser ELKS</H2>

<UL>

<LI><A HRef="#3.1">Q3.1. Puis-je utiliser des binaires bcc sous Linux
?</A>

<LI><A HRef="#3.2">Q3.2. Puis-je booter l'ELKS sous DOSEMU ?</A>

</UL>

<HR Width=90%>

<A Name="1.1"><H3>Q1.1. Qu'est ce que l'ELKS ?</H3>

<P Align=Justify>L'<B>ELKS</B> est le <I>Embeddable Linux Kernel
Subset</I>, un projet de construction d'un petit noyau correspondant à
Linux (qui aura plus ou moins les fonctionnalités d'UNIX V7 dans le noyau)
qui peut tourner sur des machines dont les ressources processeur et
mémoire sont limitées. Les cibles initiales sont les Intel 8086 et
éventuellement les 286 en mode 16 bits protégé. Un noyau pouvant tourner
sur ce type de machine peut être utile pour les systèmes intégrés, pour le
déploiement informatique du Tiers-Monde où les machines 80x86 x>0 ne sont
pas facilement disponibles, et pour l'utilisation sur divers portables.
<p>Plus d'informations sur l'arrière-plan, les buts et le status actuel du
projet peuvent être trouvés sur l'<A
HRef="http://www.linux.org.uk/ELKS-Home/index.html">ELKS Home
Page</A>.</P>

<A Name="1.2"><H3>Q1.2. Comment l'ELKS peut-il être comparé au Linux
Standard ?</H3>

<P Align=Justify>ELKS est développé comme un noyau de substitution au vrai
Linux, et doit être suffisamment petit pour être compris par une seule
personne, pour ainsi devenir un inévaluable moyen d'apprentissage. Il en
est pour l'instant aux premiers stades de développement, et de gros
morceaux sont manquants, comme:</P>

<UL>

<LI><P Align=Justify>le système de pagination;</P>

<LI><P Align=Justify>les bibliothèques dynamiques;</P>

<LI><P Align=Justify>la gestion des ports de communication, série et
parallèle;</P>

<LI><P Align=Justify>la gestion du réseau et de la couche tcp/ip (en
cours).</P>

</UL>

<P Align=Justify>Ceci étant dit, le système peut déjà être lancé, donne
des consoles virtuelles, monter un lecteur de disquette en système de
fichiers minix, et permet de lancer un petit programme; les derniers
développements permettent le lancement de <B>sash</B>, un petit shell.</P>

<A Name="1.3"><H3>Q1.3. Existe-t-il une version "prête à l'emploi"
(ready-to-run) de l'ELKS ?</H3>

<P Align=Justify>Pas pour le moment. Vous devrez utiliser une machine
Linux standard, charger les sources, et cross-compiler pour générer le
code 8086. Les images disques boot et root sont fournies avec la version
actuelle de l'ELKS, mais elles sont uniquement prévues comme plateformes
de tests pour le système, et leur utilisation est assez limitée.
Cependant, il devrait probablement y avoir une distribution d'une sorte ou
d'une autre dans quelques mois.</P>

<P Align=Justify><A HRef="MailTo:mstrates@croftj.net">Michael Strates</A>
prépare actuellement la distribution Bluebell, mais rien n'est encore
fait. Si vous désirez rejoindre l'équipe de développement, contactez-le:
le recrutement est en cours.</P>

<A Name="1.4"><H3>Q1.4. ELKS peut-il tourner sur un 8088 ?</H3>

<P Align=Justify>Le 8088 est identique au 8086, sauf qu'il a un bus de
données externe en 8 bits, au lieu de 16 bits; il est donc plus lent.
Ainsi, oui, l'ELKS peut tourner sur un 8088.</P>

<HR Width=90%>

<H2>Section 2 - Compilation et Installation</H2>

<A Name="2.1"><H3>Q2.1. Où puis-je trouver les sources ?</H3>

<P Align=Justify>L'environnement de développement Dev86 se trouve sur la <A
HRef="http://www.cix.co.uk/~mayday">page de Robert de Bath</A>.</P>

<P Align=Justify>Le site de base du développement se trouve sur <A
HRef="ftp://linux.mit.edu/pub/ELKS">ftp://linux.mit.edu/pub/ELKS/</A>. Les
autres sites où l'ELKS et Dev86 peuvent être trouvés sont:</P>

<UL>

<LI><A HRef="ftp://ftp.ecs.soton.ac.uk/pub/elks/">ftp://ftp.ecs.soton.ac.uk/pub/elks/</A> (site anglais)
<LI><A HRef="ftp://cam053212.student.utwente.nl/pub/8086-nix/ELKS/">ftp://cam053212.student.utwente.nl/pub/8086-nix/ELKS/</A> (miroir néerlandais)
<LI><A HRef="ftp://ftp.amscons.com/pub/mirrors/ELKS/">ftp://ftp.amscons.com/pub/mirrors/ELKS/</A>
</ul>

<P Align=Justify>Si vous connaissez d'autres sites, ou désirez en créer
un, contactez le responsable : <A
HRef="MailTo:ajr@ecs.soton.ac.uk">Alistair J. Riddoch</A>.</P>

<P Align=Justify>Vous pouvez également récupérer les dernières sources de
l'ELKS en utilisant cvs par la procédure suivante:</P>

<Pre>
	export CVSROOT=:pserver:anonymous@elks.sf.net:/cvsroot/elks
	cvs login
	cvs -z9 get elks
	cvs -z9 get elkscmd
	cvs -z9 get elksnet
</Pre>

<P Align=Justify>Lorsque cvs vous demandera votre mot de passe, tapez
simplement ENTREE.</P>

<A Name="2.2"><H3>Q2.2. Comment créer un noyau ELKS ?</H3>

<P Align=Justify>Chargez dev86/Dev86src-0.14.8.tar.gz et
elks/elks-0.0.88.tar.gz (ou les dernières versions) de linux.mit, ou l'un
des autres sites. Décompressez les, par exemple, dans /usr/src :</P>

<Pre>
	tar -xvzf Dev86src-0.14.8.tar.gz -C /usr/src
	tar -xvzf elks-0.0.79.tar.gz -C /usr/src
</Pre>

<P Align=Justify>L'environnement de développement sera décompressé dans
/usr/src/linux-86, et les sources du noyau dans /usr/src/elks. Vous devrez
ensuite compiler les outils de développement, incluant le compilateur
spécifique <B>bcc</B> :</P>

<Pre>
	cd /usr/src/linux-86
	make
</Pre>

<P Align=Justify>Ceci fait, attaquez vous à la compilation du noyau:</P>

<Pre>
	cd /usr/src/elks
	make dep
	make config
	make
</Pre>

<P Align=Justify>(Si vous êtes habitués à compiler des noyaux Linux par
gcc, vous serez amusés par la rapidité à laquelle celle-ci se fait !) Le
résultat en est une image nommée Image, que vous pouvez copier sur une
disquette formatée, ce qui vous permettra de lancer le noyau:</P>

<Pre>
	dd if=Image of=/dev/fd0
</Pre>

<P Align=Justify>ou bien</P>

<Pre>
	make disk
</Pre>

<P Align=Justify>Vous devriez maintenant pouvoir lancer le système par la
disquette, mais vous n'obtiendrez pas beaucoup plus sans disquette root à
mounter. Pour celà, vous avez sur le site ftp de l'elks un fichier nommé
images.zip; il contient un noyau (boot), une disquette principale (root)
et une disquette 720k complète (comb) permettant de booter avec une seule
disquette.</P>

<P Align=Justify>Vous pouvez également créer votre propre disquette
principale; ceci sera développé en <A HRef="#2.5">question 2.5</A>.</P>

<A Name="2.3"><H3>Q2.3. J'obtiens une erreur m'affirmant que
/usr/include/linux/vm86.h n'existe pas ?</H3>

<P ALign=Justify>Editez <B>/usr/include/sys/vm86.h</B> et remplacez
<B>#include &lt;linux/vm86.h&gt;</B> par <B>#include
&lt;asm/vm86.h&gt;</B></P>

<A Name="2.4"><H3>Q2.4. Comment créer un 'init' pour ELKS ?</H3>

<P Align=Justify>Une fois le noyau ELKS booté, il lance /bin/init. Les
sources d'un init pour l'ELKS peuvent être trouvées dans le paquetage
elkscmd.</P>

<P Align=Justify>A partir du noyau 0.0.56, sash fonctionne et est utilisé
comme /bin/sh par la plupart des gens. Il peut être trouvé dans le
paquetage elkscmd.</P>

<P Align=Justify>Pour de meilleurs résultats, copiez /etc/passwd et
/etc/group d'une distribution Linux standard sur la disquette root; ainsi,
ls -l fonctionnera proprement, et /usr/lib/liberror.txt pour que sash
puisse reporter les erreurs.</P>

<A Name="2.5"><H3>Q2.5. Comment créer un 'root filesystem disk' ?</H3>

<P Align=Justify>Vous devrez créer une disquette minix contenant les
fichiers et octets appropriés. Pour l'instant, 2 fichiers seulement sont
nécessaires - /dev/tty (4,0) et /bin/init, qui lancera le getty, qui a son
tour lancera un shell. Vous pourrez egalement trouver les commandes
classiques - mount, cp, cat, rm, ... Mais n'attendez pas beaucoup plus de
l'elks pour l'instant... Il y a beaucoup de travail à faire.</P>

<P Align=Justify><I>Note: /dev/tty est différent de celui que le Linux
normal utilise (5,0).</I></P>

<P Align=Justify>Alternativement, si vous avez un noyau >= 2.0.x et mount
>= 2.5k, vous pouvez utiliser le système de fichiers loopback pour créer
une image disque sur votre disque dur, et ensuite la basculer sur la
disquette.</P>

<Pre>
	dd if=/dev/zero of=root.image bs=1k count=80
	mkfs -t minix root.image
	mount -o loop root.image -t minix /mnt	# /mnt est le mount point
	...
	umount /disk
	dd if=root.image of=/dev/fd0
</Pre>

<P Align=Justify><I>Surtout ne pas compresser l'image de la disquette root
! cette fonction n'est pas encore implémentée dans l'elks.</I></P>

<A Name="2.6"><H3>Q2.6. Que faire si mon XT a un lecteur 360k ?</H3>

<P Align=Justify>>Préparer les images boot et root devant tourner sur une
autre machine requiert un peu d'attention, spécialement si la machine a un
lecteur 360k. Les lecteurs 5'1/4 360k comportent des têtes à 40 tracks,
alors que les lecteur 1,2 Mo ont 80 tracks. Ainsi, un lecteur 1,2 Mo peut
lire des disquettes 360k mais pas forcément les écrire, car le lecteur
1,2Mo écrira des tracks de taille moitié moindre que celle attendue par le
lecteur 360ko.</P>

<P Align=Justify>Une solution peut être de placer le lecteur 360ko comme
2nd lecteur de votre PC - ce qui vous permettra de formater les disquettes
360ko avec fdformat /dev/fd1d360 et créer un système tel celui décrit
ci-dessus.</P>

<P Align=Justify>Une autre solution consiste à créer une image de la
disquette, puis à la transférer sur le PC contenant le lecteur 360ko (avec
un câble série), et utiliser ensuite "<A HRef="#2.7">rawrite</A>" pour
construire la disquette à partir de l'image.</P>

<A Name="2.7"><H3>Q2.7. Le programme rawrite</H3>

<P Align=Justify>Rawrite est un programme permettant d'écrire une image sur
une disquette. Il permet de transcrire les
images du noyau ELKS et de sa root image associée sur 2 disquettes
360ko. Programmes nécessaires:</P>

<UL>

<LI><A
HRef="ftp://tsx-11.mit.edu/pub/linux/dos_utils/rawrite.exe">rawrite</A>

<LI><A HRef="ftp://tsx-11.mit.edu/pub/linux/dos_utils/rawrite.c">Sources
de rawrite</A>

</UL>

<HR Width=90%>

<H2>Section 3 - Utiliser ELKS</H2>

<A Name="3.1"><H3>Q3.1. Puis-je utiliser des binaires bcc sous Linux
?</H3>

<P Align=Justify>Oui - en chargeant un module dans le noyau vous pourrez
directement exécuter des binaires ELKS. Celà rend le développement de
programmes destinés à tourner sous ELKS bien moins pénible, puisque vous
pouvez directement les tester sur un système Linux normal (avec cependant
comme réserve le fait qu'ils peuvent ne pas fonctionner sous ELKS, si le
programme utilise des implants du noyau qui n'existeraient pas encore dans
ELKS).</P>

<Pre>
	cd /usr/src/linux-86/elksemu
	make module
	insmod binfmt_elks.o
</Pre>

<P Align=Justify>A noter, vous devrez relancer 'insmod' à chaque
lancement. <br>Si, lors de la compilation du module, vous obtenez une
erreur indiquant "modversions.h: no such file or directory", alors vous
devrez éditer le Makefile pour retirer la référence à ce fichier,
c'est-à-dire:</P>

<Pre>
	MODCFLAGS=-D__KERNEL__ -Wall -Wstrict-prototypes -O2 \
		-fomit-frame-pointer -fno-strength-reduce -pipe \
		-m486 -DCPU=486 -DMODULE -DMODVERSIONS
</Pre>

<A Name="3.2"><H3>Q3.2. Puis-je booter l'ELKS sous DOSEMU ?</H3>

<P Align=Justify>Oui. ELKS peut se lancer avec dosemu &gt; 0.63 et linux
^gt; 2.0.7. Vérifiez que votre lecteur de disquette est configuré
correctement dans /etc/dosemu.conf, et utilisez l'option -A pour forcer
le lancement sur la disquette.</P>

<HR Width=90%>

<P Align=Center>This document is released under the terms of the
<A HRef="http://www.fsf.org/licenses/gpl.html">GNU General Public
Licence</A>, version 2 only.</P>

</Body>
</HTML>
